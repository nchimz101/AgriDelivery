package expo.modules.device

import expo.modules.core.ExportedModule
import expo.modules.core.Promise
import expo.modules.core.interfaces.ExpoMethod

import com.facebook.device.yearclass.YearClass

import android.app.ActivityManager
import android.app.UiModeManager
import android.content.Context
import android.content.res.Configuration
import android.os.Build
import android.os.SystemClock
import android.provider.Settings
import android.view.WindowManager
import android.util.DisplayMetrics

import java.io.File
import kotlin.math.pow
import kotlin.math.sqrt

private const val NAME = "ExpoDevice"

class DeviceModule(private val mContext: Context) : ExportedModule(mContext) {
  // Keep this enum in sync with JavaScript
  enum class DeviceType(val JSValue: Int) {
    UNKNOWN(0),
    PHONE(1),
    TABLET(2),
    DESKTOP(3),
    TV(4);
  }

  override fun getName(): String {
    return NAME
  }

  override fun getConstants(): Map<String, Any> = mapOf(
    "isDevice" to (!isRunningOnGenymotion && !isRunningOnS